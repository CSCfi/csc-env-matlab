Bootstrap: docker
From: ubuntu:22.04

%help
    This is a base container for MATLAB installations.
    MATLAB requires `xorg` to run and we configure timezone for datetimes to work properly.
    We also install supported version of `gcc` and `gfortran` compilers and link them to `/bin` directory (https://se.mathworks.com/support/requirements/supported-compilers-linux.html).

%post
    apt-get --quiet update && \
    DEBIAN_FRONTEND=noninteractive \
    apt-get install -y xorg tzdata gcc-11 gfortran-10 && \
    rm -rf /var/lib/apt/lists/* && \
    ln -sf /bin/gcc-11 /bin/gcc && \
    ln -sf /bin/gfortran-10 /bin/gfortran && \
    ln -sf /usr/share/zoneinfo/UTC /etc/localtime && \
    dpkg-reconfigure -f noninteractive tzdata
